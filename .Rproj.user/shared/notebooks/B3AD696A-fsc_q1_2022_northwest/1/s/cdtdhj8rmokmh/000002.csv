"0","fsc_nw %>%"
"0","  select(date, org_code, beneficiaries = new_beneficiaries, location, admin3_pcode) %>% "
"0","  rbind(fsc_2021 %>% "
"0","          filter(unique_beneficiaries == ""Yes"") %>% "
"0","          select(date, org_code, beneficiaries, location, admin3_pcode)) %>% "
"0","  group_by(location, admin3_pcode) %>% "
"0","  slice(which.max(beneficiaries)) %>% "
"0","  group_by(org_code, year = year(date)) %>% "
"0","  summarise(beneficiaries = sum(beneficiaries)) %>%"
"0","  pivot_wider(names_from = year, values_from = beneficiaries, names_prefix = ""ben_"") %>% "
"0","  rowwise() %>% "
"0","  mutate(total_ben = sum(ben_2021, ben_2022, na.rm = TRUE)) %>% "
"0","  ungroup() %>% "
"0","  mutate(rank_2021 = dense_rank(-ben_2021), "
"0","         rank_2022 = dense_rank(-ben_2022)) %>% "
"0","  arrange(desc(ben_2022)) %>% "
"0","  select(org_code, ben_2021, rank_2021, ben_2022, rank_2022, total_ben) %>% "
"0","  head(15) %>% "
"0","  kable(caption = ""Top implementing partners by beneficiaries reached in 2022/Q1"", format.args = list(big.mark = "","")) %>% "
"0","  kable_classic_2(""striped"") "
"1","`summarise()` has grouped output by 'org_code'. You can override using the `.groups` argument.
"

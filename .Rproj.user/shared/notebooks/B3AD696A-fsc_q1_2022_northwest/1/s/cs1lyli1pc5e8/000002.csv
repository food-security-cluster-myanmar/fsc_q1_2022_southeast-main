"0",""
"0","# you need to create the labels dataset first "
"0","ag_labels <- fsc_nw %>% "
"0","  mutate(agricultural_activity = ifelse(activity_red %in% c(""crop, vegetable and seed kits"", "
"0","                                                            ""FFS and farmer training"", "
"0","                                                            ""IGA and small grants"", "
"0","                                                            ""livestock kits""), ""yes"", ""no"")) %>% "
"0","  filter(agricultural_activity == ""yes"") %>%  "
"0","  group_by(state) %>% "
"0","  summarise(beneficiaries = sum(beneficiaries)) %>% "
"0","  mutate(state = reorder(state, beneficiaries)) %>% arrange(desc(beneficiaries))"
"0","  "
"0","fsc_nw %>% "
"0","  mutate(agricultural_activity = ifelse(activity_red %in% c(""crop, vegetable and seed kits"", "
"0","                                                            ""FFS and farmer training"", "
"0","                                                            ""IGA and small grants"", "
"0","                                                            ""livestock kits""), ""yes"", ""no"")) %>% "
"0","  filter(agricultural_activity == ""yes"") %>%  "
"0","  group_by(state, activity_red) %>% "
"0","  summarise(beneficiaries = sum(beneficiaries)) %>% "
"0","  ggplot(aes(x = state, "
"0","             y = beneficiaries, fill = activity_red)) + "
"0","  geom_col() + "
"0","  geom_text(data = ag_labels, aes(label = comma(beneficiaries), fill = NULL), size = 3, vjust = -.3) + "
"0","  labs(x = """", y = ""Beneficiary frequencies"", fill = """", "
"0","       title = ""Breakdown of beneficiaries of agricultural activities in 2022/Q1"")"
"1","`summarise()` has grouped output by 'state'. You can override using the `.groups` argument.
"
